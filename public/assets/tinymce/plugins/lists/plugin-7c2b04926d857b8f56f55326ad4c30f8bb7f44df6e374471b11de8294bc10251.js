!function(i){"use strict";function e(){}function u(e){return function(){return e}}function o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}}function n(){return rn}function t(e){return e.isNone()}function r(e){return e()}function a(e){return e}function s(n){return function(e){return function(e){if(null===e)return"null";var n=typeof e;return"object"==n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n}(e)===n}}function c(e,n){for(var t=e.length,r=new Array(t),o=0;o<t;o++){var i=e[o];r[o]=n(i,o)}return r}function f(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function d(e,n){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];n(i,r)&&t.push(i)}return t}function l(e,n,t){return f(e,function(e){t=n(t,e)}),t}function m(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];if(n(o,t))return un.some(o)}return un.none()}function g(e,n){return function(e){for(var n=[],t=0,r=e.length;t<r;++t){if(!sn(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);mn.apply(n,e[t])}return n}(c(e,n))}function p(e){return 0===e.length?un.none():un.some(e[0])}function v(e){return 0===e.length?un.none():un.some(e[e.length-1])}function h(e,n,t){return 0!=(e.compareDocumentPosition(n)&t)}function N(e,n){function t(e){return Number(n.replace(r,"$"+e))}var r=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r}return undefined}(e,n);return r?Nn(t(1),t(2)):{major:0,minor:0}}function y(e,n){return function(){return n===e}}function S(e,n){return function(){return n===e}}function O(e,n){var t=String(n).toLowerCase();return m(e,function(e){return e.search(t)})}function C(e,n){return-1!==e.indexOf(n)}function b(n){return function(e){return C(e,n)}}function L(e,n){return e.dom()===n.dom()}function T(e,n,t){return e.isSome()&&n.isSome()?un.some(t(e.getOrDie(),n.getOrDie())):un.none()}function D(e){return un.from(e.dom().parentNode).map($n.fromDom)}function E(e){return c(e.dom().childNodes,$n.fromDom)}function w(e,n){var t=e.dom().childNodes;return un.from(t[n]).map($n.fromDom)}function k(e){return w(e,0)}function A(e){return w(e,e.dom().childNodes.length-1)}function x(n,t){D(n).each(function(e){e.dom().insertBefore(t.dom(),n.dom())})}function R(e,n){e.dom().appendChild(n.dom())}function I(n,e){f(e,function(e){R(n,e)})}function B(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n)}function P(e,n,t){return e.fire("ListMutation",{action:n,element:t})}function _(e,r){return function(e){for(var n=r!==undefined&&null!==r?r:Gn,t=0;t<e.length&&n!==undefined&&null!==n;++t)n=n[e[t]];return n}(e.split("."))}function M(e){return e&&"BR"===e.nodeName}function U(e){var n=e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",pt(e,n))}function F(e){var n,t,r,o=e.selection.getSelectedBlocks();return nt.grep((n=e,t=o,r=nt.map(t,function(e){return n.dom.getParent(e,"li,dd,dt",pt(n,e))||e}),et.unique(r)),function(e){return ut(e)})}function j(e,n){return v(e.dom.getParents(n,"ol,ul",pt(e,n)))}function H(e,n){var t,r,o,i=e.dom,u=e.schema.getBlockElements(),a=i.createFragment(),s=yt(e);if(s&&((r=i.create(s)).tagName===s.toUpperCase()&&i.setAttribs(r,St(e)),dt(n.firstChild,u)||a.appendChild(r)),n)for(;t=n.firstChild;){var c=t.nodeName;o||"SPAN"===c&&"bookmark"===t.getAttribute("data-mce-type")||(o=!0),dt(t,u)?(a.appendChild(t),r=null):s?(r||(r=i.create(s),a.appendChild(r)),r.appendChild(t)):a.appendChild(t)}return s?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):a.appendChild(i.create("br")),a}function $(e){return e.dom().nodeName.toLowerCase()}function q(e,n){var t=e.dom();!function(e,n){for(var t=Yn(e),r=0,o=t.length;r<o;r++){var i=t[r];n(e[i],i)}}(n,function(e,n){!function(e,n,t){if(!(an(t)||cn(t)||dn(t)))throw i.console.error("Invalid call to Attr.set. Key ",n,":: Value ",t,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,t+"")}(t,n,e)})}function W(e){return l(e.dom().attributes,function(e,n){return e[n.name]=n.value,e},{})}function V(e,n,t){if(!an(t))throw i.console.error("Invalid call to CSS.set. Property ",n,":: Value ",t,":: Element ",e),new Error("CSS value must be a string: "+t);var r;(r=e).style===undefined||!fn(r.style.getPropertyValue)||e.style.setProperty(n,t)}function K(e){return n=e,t=!0,$n.fromDom(n.dom().cloneNode(t));var n,t}function X(e,n){var t,r,o,i=(t=e,r=n,q(o=$n.fromTag(r),W(t)),o);return x(e,i),I(i,E(e)),B(e),i}function z(e,n){R(e.item,n.list)}function Q(c,e,f){var n=e.slice(0,f.depth);return v(n).each(function(e){var n,t,r,o,i,u,a,s;r=e,i=c,u=f.itemAttributes,a=f.content,q(s=$n.fromTag("li",i),u),I(s,a),o=s,R(r.list,o),r.item=o,t=f,$((n=e).list)!==t.listType&&(n.list=X(n.list,t.listType)),q(n.list,t.listAttributes)}),n}function Y(e,n,t){var r,o=function(e,n,t){for(var r,o,i,u=[],a=0;a<t;a++)u.push((r=e,o=n.listType,R((i={list:$n.fromTag(o,r),item:$n.fromTag("li",r)}).list,i.item),i));return u}(e,t,t.depth-n.length);return function(e){for(var n=1;n<e.length;n++)z(e[n-1],e[n])}(o),function(e,n){for(var t=0;t<e.length-1;t++)r="list-style-type",o="none",V(e[t].item.dom(),r,o);var r,o;v(e).each(function(e){q(e.list,n.listAttributes),q(e.item,n.itemAttributes),I(e.item,n.content)})}(o,t),r=o,T(v(n),p(r),z),n.concat(o)}function G(e){return Kn(e,"OL,UL")}function J(e){return k(e).map(G).getOr(!1)}function Z(e){return 0<e.depth}function ee(e){return e.isSelected}function ne(e){var n=E(e);return c(A(e).map(G).getOr(!1)?n.slice(0,-1):n,K)}function te(n){f(n,function(r,e){(function(e,n){for(var t=e[n].depth,r=n-1;0<=r;r--){if(e[r].depth===t)return un.some(e[r]);if(e[r].depth<t)break}return un.none()})(n,e).each(function(e){var n,t;t=e,(n=r).listType=t.listType,n.listAttributes=pn({},t.listAttributes)})})}function re(i,u,a,s){return k(s).filter(G).fold(function(){u.each(function(e){L(e.start,s)&&a.set(!0)});var n,t,r,e=(n=s,t=i,r=a.get(),D(n).filter(Ot).map(function(e){return{depth:t,isSelected:r,content:ne(n),itemAttributes:W(n),listAttributes:W(e),listType:$(e)}}));u.each(function(e){L(e.end,s)&&a.set(!1)});var o=A(s).filter(G).map(function(e){return Ct(i,u,a,e)}).getOr([]);return e.toArray().concat(o)},function(e){return Ct(i,u,a,e)})}function oe(o,e){return c(e,function(e){var n,t,r=(n=e.content,t=(void 0||i.document).createDocumentFragment(),f(n,function(e){t.appendChild(e.dom())}),$n.fromDom(t));return $n.fromDom(H(o,r.dom()))})}function ie(e,n){return te(n),(t=e.contentDocument,p(l(n,function(e,n){return n.depth>e.length?Y(t,e,n):Q(t,e,n)},[])).map(function(e){return e.list})).toArray();var t}function ue(e){var n,t,r=c(ht.getSelectedListItems(e),$n.fromDom);return T(m(r,o(J)),m((n=r,(t=ln.call(n,0)).reverse(),t),o(J)),function(e,n){return{start:e,end:n}})}function ae(u,e,a){var n,t,r;f((n=e,t=ue(u),r=vn(!1),c(n,function(e){return{sourceList:e,entries:Ct(0,t,r,e)}})),function(e){var n,t;n=e.entries,t=a,f(d(n,ee),function(e){return function(e,n){switch(t){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}}(0,e)});var r,o,i=(r=u,g(function(e,n){if(0===e.length)return[];for(var t=n(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],s=n(a);s!==t&&(r.push(o),o=[]),t=s,o.push(a)}return 0!==o.length&&r.push(o),r}(e.entries,Z),function(e){return p(e).map(Z).getOr(!1)?ie(r,e):oe(r,e)}));f(i,function(e){P(u,"Indent"===a?"IndentList":"OutdentList",e.dom())}),o=e.sourceList,f(i,function(e){x(o,e)}),B(e.sourceList)})}function se(e){Kn(e,"dt")&&X(e,"dd")}function ce(r,e,n){f(n,"Indent"===e?se:function(e){return n=r,void(Kn(t=e,"dd")?X(t,"dt"):Kn(t,"dt")&&D(t).each(function(e){return Tt(n,e.dom(),t.dom())}));var n,t})}function fe(e,n){if(tt(e))return{container:e,offset:n};var t=Xn.getNode(e,n);return tt(t)?{container:t,offset:n>=e.childNodes.length?t.data.length:0}:t.previousSibling&&tt(t.previousSibling)?{container:t.previousSibling,offset:t.previousSibling.data.length}:t.nextSibling&&tt(t.nextSibling)?{container:t.nextSibling,offset:0}:{container:e,offset:n}}function de(e,n){var t=c(ht.getSelectedListRoots(e),$n.fromDom),r=c(ht.getSelectedDlItems(e),$n.fromDom),o=!1;if(t.length||r.length){var i=e.selection.getBookmark();ae(e,t,n),ce(e,n,r),e.selection.moveToBookmark(i),e.selection.setRng(Dt(e.selection.getRng())),e.nodeChanged(),o=!0}return o}function le(e){return de(e,"Indent")}function me(e){return de(e,"Outdent")}function ge(e){return de(e,"Flatten")}function pe(e){return/\btox\-/.test(e.className)}function ve(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function he(t,e){nt.each(e,function(e,n){t.setAttribute(n,e)})}function Ne(e,n,t){var r,o,i,u,a,s,c;u=e,a=n,c=(s=t)["list-style-type"]?s["list-style-type"]:null,u.setStyle(a,"list-style-type",c),r=e,he(o=n,(i=t)["list-attributes"]),nt.each(r.select("li",o),function(e){he(e,i["list-item-attributes"])})}function ye(e,n,t,r){var o,i;for(o=n[t?"startContainer":"endContainer"],i=n[t?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!t&&st(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(ft(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function Se(f,d,l){void 0===l&&(l={});var e,n=f.selection.getRng(!0),m="LI",t=ht.getClosestListRootElm(f,f.selection.getStart(!0)),g=f.dom;"false"!==g.getContentEditable(f.selection.getNode())&&("DL"===(d=d.toUpperCase())&&(m="DT"),e=kt(n),nt.each(function(t,e,r){for(var o,i=[],u=t.dom,n=ye(t,e,!0,r),a=ye(t,e,!1,r),s=[],c=n;c&&(s.push(c),c!==a);c=c.nextSibling);return nt.each(s,function(e){if(ft(t,e))return i.push(e),void(o=null);if(u.isBlock(e)||st(e))return st(e)&&u.remove(e),void(o=null);var n=e.nextSibling;Et.isBookmarkNode(e)&&(ft(t,n)||!n&&e.parentNode===r)?o=null:(o||(o=u.create("p"),e.parentNode.insertBefore(o,e),i.push(o)),o.appendChild(e))}),i}(f,n,t),function(e){var n,t,r,o,i,u,a,s,c;(t=e.previousSibling)&&rt(t)&&t.nodeName===d&&(u=t,a=l,s=g.getStyle(u,"list-style-type"),c=a?a["list-style-type"]:"",s===(null===c?"":c))?(n=t,e=g.rename(e,m),t.appendChild(e)):(n=g.create(d),e.parentNode.insertBefore(n,e),n.appendChild(e),e=g.rename(e,m)),r=g,o=e,i=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],nt.each(i,function(e){var n;return r.setStyle(o,((n={})[e]="",n))}),Ne(g,n,l),xt(f.dom,n)}),f.selection.setRng(At(e)))}function Oe(e,n,t){return s=t,(a=n)&&s&&rt(a)&&a.nodeName===s.nodeName&&(i=n,u=t,(o=e).getStyle(i,"list-style-type",!0)===o.getStyle(u,"list-style-type",!0))&&(r=t,n.className===r.className);var r,o,i,u,a,s}function Ce(n,e,t,r,o){if(e.nodeName!==r||Rt(o)){var i=kt(n.selection.getRng(!0));nt.each([e].concat(t),function(e){!function(e,n,t,r){if(n.nodeName!==t){var o=e.dom.rename(n,t);Ne(e.dom,o,r),P(e,ve(t),o)}else Ne(e.dom,n,r),P(e,ve(t),n)}(n,e,r,o)}),n.selection.setRng(At(i))}else ge(n)}function be(e,n){var t,r=n.parentNode;"LI"===r.nodeName&&r.firstChild===n&&((t=r.previousSibling)&&"LI"===t.nodeName?(t.appendChild(n),mt(e,r)&&Bt.remove(r)):Bt.setStyle(r,"listStyleType","none")),rt(r)&&(t=r.previousSibling)&&"LI"===t.nodeName&&t.appendChild(n)}function Le(e,n,t,r){var o=n.startContainer,i=n.startOffset;if(tt(o)&&(t?i<o.data.length:0<i))return o;var u=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Xn.getNode(o,i));var a=new zn(o,r);for(t&&lt(e.dom,o)&&a.next();o=a[t?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(tt(o)&&0<o.data.length)return o}}function Te(e,n){var t=n.childNodes;return 1===t.length&&!rt(t[0])&&e.isBlock(t[0])}function De(e,n,t){var r,o,i,u;if(o=Te(e,t)?t.firstChild:t,Te(i=e,u=n)&&i.remove(u.firstChild,!0),!mt(e,n,!0))for(;r=n.firstChild;)o.appendChild(r)}function Ee(n,e,t){var r,o,i=e.parentNode;if(gt(n,e)&&gt(n,t)){rt(t.lastChild)&&(o=t.lastChild),i===t.lastChild&&st(i.previousSibling)&&n.remove(i.previousSibling),(r=t.lastChild)&&st(r)&&e.hasChildNodes()&&n.remove(r),mt(n,t,!0)&&n.$(t).empty(),De(n,e,t),o&&t.appendChild(o);var u=Vn($n.fromDom(t),$n.fromDom(e))?n.getParents(e,rt,t):[];n.remove(e),f(u,function(e){mt(n,e)&&e!==n.getRoot()&&n.remove(e)})}}function we(e,n,t,r){var o,i,u,a=e.dom;if(a.isEmpty(r))i=t,u=r,(o=e).dom.$(u).empty(),Ee(o.dom,i,u),o.selection.setCursorLocation(u);else{var s=kt(n);Ee(a,t,r),e.selection.setRng(At(s))}}function ke(e,n){var t=e.dom,r=e.selection,o=r.getStart(),i=ht.getClosestListRootElm(e,o),u=t.getParent(r.getStart(),"LI",i);if(u){var a=u.parentNode;if(a===e.getBody()&&mt(t,a))return!0;var s=Dt(r.getRng()),c=t.getParent(Le(e,s,n,i),"LI",i);if(c&&c!==u)return e.undoManager.transact(function(){n?we(e,s,c,u):ct(u)?me(e):function(e,n,t,r){var o=kt(s);Ee(e.dom,t,r);var i=At(o);e.selection.setRng(i)}(e,0,u,c)}),!0;if(!c&&!n&&0===s.startOffset&&0===s.endOffset)return e.undoManager.transact(function(){ge(e)}),!0}return!1}function Ae(e,n){return ke(e,n)||function(o,i){var u=o.dom,e=o.selection.getStart(),a=ht.getClosestListRootElm(o,e),s=u.getParent(e,u.isBlock,a);if(s&&u.isEmpty(s)){var n=Dt(o.selection.getRng()),c=u.getParent(Le(o,n,i,a),"LI",a);if(c)return o.undoManager.transact(function(){var e,n,t,r;n=s,t=a,r=(e=u).getParent(n.parentNode,e.isBlock,t),e.remove(n),r&&e.isEmpty(r)&&e.remove(r),It.mergeWithAdjacentLists(u,c.parentNode),o.selection.select(c,!0),o.selection.collapse(i)}),!0}return!1}(e,n)}function xe(e,n){return e.selection.isCollapsed()?Ae(e,n):(r=(t=e).selection.getStart(),o=ht.getClosestListRootElm(t,r),!!(t.dom.getParent(r,"LI,DT,DD",o)||0<ht.getSelectedListItems(t).length)&&(t.undoManager.transact(function(){t.execCommand("Delete"),Pt(t.dom,t.getBody())}),!0));var t,r,o}function Re(n,t){return function(){var e=n.dom.getParent(n.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===t}}function Ie(n,i){return function(o){function e(e){var n=function(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}(e.parents,at),t=-1!==n?e.parents.slice(0,n):e.parents,r=nt.grep(t,rt);o.setActive(0<r.length&&r[0].nodeName===i&&!pe(r[0]))}return n.on("NodeChange",e),function(){return n.off("NodeChange",e)}}}var Be,Pe,_e,Me,Ue,Fe,je,He,$e,qe,We,Ve,Ke,Xe,ze,Qe,Ye,Ge,Je,Ze,en=tinymce.util.Tools.resolve("tinymce.PluginManager"),nn=u(!1),tn=u(!0),rn=(Be={fold:function(e){return e()},is:nn,isSome:nn,isNone:tn,getOr:a,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(undefined),or:a,orThunk:r,map:n,each:e,bind:n,exists:nn,forall:tn,filter:n,equals:t,equals_:t,toArray:function(){return[]},toString:u("none()")},Object.freeze&&Object.freeze(Be),Be),on=function(t){function e(){return o}function n(e){return e(t)}var r=u(t),o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:tn,isNone:nn,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return on(e(t))},each:function(e){e(t)},bind:n,exists:n,forall:n,filter:function(e){return e(t)?o:rn},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(nn,function(e){return n(t,e)})}};return o},un={some:on,none:n,from:function(e){return null===e||e===undefined?rn:on(e)}},an=s("string"),sn=s("array"),cn=s("boolean"),fn=s("function"),dn=s("number"),ln=Array.prototype.slice,mn=Array.prototype.push,gn=(fn(Array.from)&&Array.from,function(e,n){return h(e,n,i.Node.DOCUMENT_POSITION_CONTAINED_BY)}),pn=function(){return(pn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},vn=function(e){function n(){return t}var t=e;return{get:n,set:function(e){t=e},clone:function(){return vn(n())}}},hn=function(){return Nn(0,0)},Nn=function(e,n){return{major:e,minor:n}},yn={nu:Nn,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?hn():N(e,t)},unknown:hn},Sn="Edge",On="Chrome",Cn="Opera",bn="Firefox",Ln="Safari",Tn=function(e){var n=e.current;return{current:n,version:e.version,isEdge:y(Sn,n),isChrome:y(On,n),isIE:y("IE",n),isOpera:y(Cn,n),isFirefox:y(bn,n),isSafari:y(Ln,n)}},Dn={unknown:function(){return Tn({current:undefined,version:yn.unknown()})},nu:Tn,edge:u(Sn),chrome:u(On),ie:u("IE"),opera:u(Cn),firefox:u(bn),safari:u(Ln)},En="Windows",wn="Android",kn="Solaris",An="FreeBSD",xn="ChromeOS",Rn=function(e){var n=e.current;return{current:n,version:e.version,isWindows:S(En,n),isiOS:S("iOS",n),isAndroid:S(wn,n),isOSX:S("OSX",n),isLinux:S("Linux",n),isSolaris:S(kn,n),isFreeBSD:S(An,n),isChromeOS:S(xn,n)}},In={unknown:function(){return Rn({current:undefined,version:yn.unknown()})},nu:Rn,windows:u(En),ios:u("iOS"),android:u(wn),linux:u("Linux"),osx:u("OSX"),solaris:u(kn),freebsd:u(An),chromeos:u(xn)},Bn=function(e,t){return O(e,t).map(function(e){var n=yn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Pn=function(e,t){return O(e,t).map(function(e){var n=yn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},_n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return C(e,"edge/")&&C(e,"chrome")&&C(e,"safari")&&C(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_n],search:function(e){return C(e,"chrome")&&!C(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return C(e,"msie")||C(e,"trident")}},{name:"Opera",versionRegexes:[_n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:b("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:b("firefox")},{name:"Safari",versionRegexes:[_n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(C(e,"safari")||C(e,"mobile/"))&&C(e,"applewebkit")}}],Un=[{name:"Windows",search:b("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return C(e,"iphone")||C(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:b("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:b("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:b("linux"),versionRegexes:[]},{name:"Solaris",search:b("sunos"),versionRegexes:[]},{name:"FreeBSD",search:b("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:b("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Fn={browsers:u(Mn),oses:u(Un)},jn=vn((_e=i.navigator.userAgent,Me=function(e){return i.window.matchMedia(e).matches},Ye=Fn.browsers(),Ge=Fn.oses(),Je=Bn(Ye,_e).fold(Dn.unknown,Dn.nu),Ze=Pn(Ge,_e).fold(In.unknown,In.nu),{browser:Je,os:Ze,deviceType:(Ue=Ze,Fe=Je,je=_e,He=Me,$e=Ue.isiOS()&&!0===/ipad/i.test(je),qe=Ue.isiOS()&&!$e,We=Ue.isiOS()||Ue.isAndroid(),Ve=We||He("(pointer:coarse)"),Ke=$e||!qe&&We&&He("(min-device-width:768px)"),Xe=qe||We&&!Ke,ze=Fe.isSafari()&&Ue.isiOS()&&!1===/safari/i.test(je),Qe=!Xe&&!Ke&&!ze,{isiPad:u($e),isiPhone:u(qe),isTablet:u(Ke),isPhone:u(Xe),isTouch:u(Ve),isAndroid:Ue.isAndroid,isiOS:Ue.isiOS,isWebView:u(ze),isDesktop:u(Qe)})})),Hn=function(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},$n={fromHtml:function(e,n){var t=(n||i.document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw i.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Hn(t.childNodes[0])},fromTag:function(e,n){var t=(n||i.document).createElement(e);return Hn(t)},fromText:function(e,n){var t=(n||i.document).createTextNode(e);return Hn(t)},fromDom:Hn,fromPoint:function(e,n,t){var r=e.dom();return un.from(r.elementFromPoint(n,t)).map(Hn)}},qn=(i.Node.ATTRIBUTE_NODE,i.Node.CDATA_SECTION_NODE,i.Node.COMMENT_NODE,i.Node.DOCUMENT_NODE,i.Node.DOCUMENT_TYPE_NODE,i.Node.DOCUMENT_FRAGMENT_NODE,i.Node.ELEMENT_NODE),Wn=(i.Node.TEXT_NODE,i.Node.PROCESSING_INSTRUCTION_NODE,i.Node.ENTITY_REFERENCE_NODE,i.Node.ENTITY_NODE,i.Node.NOTATION_NODE,qn),Vn=jn.get().browser.isIE()?function(e,n){return gn(e.dom(),n.dom())}:function(e,n){var t=e.dom(),r=n.dom();return t!==r&&t.contains(r)},Kn=function(e,n){var t=e.dom();if(t.nodeType!==Wn)return!1;var r=t;if(r.matches!==undefined)return r.matches(n);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Xn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),zn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Qn=tinymce.util.Tools.resolve("tinymce.util.VK"),Yn=Object.keys,Gn=(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}("element","offset"),"undefined"!=typeof i.window?i.window:Function("return this;")()),Jn=function(e,n){var t=_(e,n);if(t===undefined||null===t)throw new Error(e+" not available on this browser");return t},Zn=function(e){return(n=_("ownerDocument.defaultView",e),Jn("HTMLElement",n)).prototype.isPrototypeOf(e);var n},et=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),tt=function(e){return e&&3===e.nodeType},rt=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},ot=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},it=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},ut=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},at=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},st=M,ct=function(e){return e.parentNode.firstChild===e},ft=function(e,n){return n&&!!e.schema.getTextBlockElements()[n.nodeName]},dt=function(e,n){return e&&e.nodeName in n},lt=function(e,n){return!!M(n)&&!(!e.isBlock(n.nextSibling)||M(n.previousSibling))},mt=function(e,n,t){var r=e.isEmpty(n);return!(t&&0<e.select("span[data-mce-type=bookmark]",n).length)&&r},gt=function(e,n){return e.isChildOf(n,e.getRoot())},pt=function(e,n){var t=e.dom.getParents(n,"TD,TH");return 0<t.length?t[0]:e.getBody()},vt=function(n,e){var t=c(e,function(e){return j(n,e).getOr(e)});return et.unique(t)},ht={isList:function(e){var n=U(e);return Zn(n)},getParentList:U,getSelectedSubLists:function(e){var n,t,r,o=U(e),i=e.selection.getSelectedBlocks();return r=i,(t=o)&&1===r.length&&r[0]===t?(n=o,nt.grep(n.querySelectorAll("ol,ul,dl"),function(e){return rt(e)})):nt.grep(i,function(e){return rt(e)&&o!==e})},getSelectedListItems:F,getClosestListRootElm:pt,getSelectedDlItems:function(e){return d(F(e),it)},getSelectedListRoots:function(e){var n,t,r,o=(t=j(n=e,n.selection.getStart()),r=d(n.selection.getSelectedBlocks(),ot),t.toArray().concat(r));return vt(e,o)}},Nt=function(e){return e.getParam("lists_indent_on_tab",!0)},yt=function(e){var n=e.getParam("forced_root_block","p");return!1===n?"":!0===n?"p":n},St=function(e){return e.getParam("forced_root_block_attrs",{})},Ot=(Pe=qn,function(e){return e.dom().nodeType===Pe}),Ct=function(n,t,r,e){return g(E(e),function(e){return(G(e)?Ct:re)(n+1,t,r,e)})},bt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Lt=bt.DOM,Tt=function(e,n,t){var r,o,i,u,a,s;for(i=Lt.select('span[data-mce-type="bookmark"]',n),a=H(e,t),(r=Lt.createRng()).setStartAfter(t),r.setEndAfter(n),u=(o=r.extractContents()).firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){Lt.remove(u);break}e.dom.isEmpty(o)||Lt.insertAfter(o,n),Lt.insertAfter(a,n),mt(e.dom,t.parentNode)&&(s=t.parentNode,nt.each(i,function(e){s.parentNode.insertBefore(e,t.parentNode)}),Lt.remove(s)),Lt.remove(t),mt(e.dom,n)&&Lt.remove(n)},Dt=function(e){var n=e.cloneRange(),t=fe(e.startContainer,e.startOffset);n.setStart(t.container,t.offset);var r=fe(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n},Et=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),wt=bt.DOM,kt=function(o){function e(e){var n,t,r;t=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"],1===t.nodeType&&(n=wt.create("span",{"data-mce-type":"bookmark"}),t.hasChildNodes()?(r=Math.min(r,t.childNodes.length-1),e?t.insertBefore(n,t.childNodes[r]):wt.insertAfter(n,t.childNodes[r])):t.appendChild(n),t=n,r=0),i[e?"startContainer":"endContainer"]=t,i[e?"startOffset":"endOffset"]=r}var i={};return e(!0),o.collapsed||e(),i},At=function(o){function e(e){var n,t,r;n=r=o[e?"startContainer":"endContainer"],t=o[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(t=function(e){for(var n=e.parentNode.firstChild,t=0;n;){if(n===e)return t;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||t++,n=n.nextSibling}return-1}(n),n=n.parentNode,wt.remove(r),!n.hasChildNodes()&&wt.isBlock(n)&&n.appendChild(wt.create("br"))),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=t)}e(!0),e();var n=wt.createRng();return n.setStart(o.startContainer,o.startOffset),o.endContainer&&n.setEnd(o.endContainer,o.endOffset),Dt(n)},xt=function(e,n){var t,r;if(Oe(e,n,t=n.nextSibling)){for(;r=t.firstChild;)n.appendChild(r);e.remove(t)}if(Oe(e,n,t=n.previousSibling)){for(;r=t.lastChild;)n.insertBefore(r,n.firstChild);e.remove(t)}},Rt=function(e){return"list-style-type"in e},It={toggleList:function(e,n,t){var r=ht.getParentList(e),o=ht.getSelectedSubLists(e);t=t||{},r&&0<o.length?Ce(e,r,o,n,t):function(e,n,t,r){if(n!==e.getBody())if(n)if(n.nodeName!==t||Rt(r)||pe(n)){var o=kt(e.selection.getRng(!0));Ne(e.dom,n,r);var i=e.dom.rename(n,t);xt(e.dom,i),e.selection.setRng(At(o)),P(e,ve(t),i)}else ge(e);else Se(e,t,r),P(e,ve(t),n)}(e,r,n,t)},mergeWithAdjacentLists:xt},Bt=bt.DOM,Pt=function(n,e){nt.each(nt.grep(n.select("ol,ul",e)),function(e){be(n,e)})},_t=function(n){n.on("keydown",function(e){e.keyCode===Qn.BACKSPACE?xe(n,!1)&&e.preventDefault():e.keyCode===Qn.DELETE&&xe(n,!0)&&e.preventDefault()})},Mt=xe,Ut=function(n){return{backspaceDelete:function(e){Mt(n,e)}}},Ft=function(t){t.on("BeforeExecCommand",function(e){var n=e.command.toLowerCase();"indent"===n?le(t):"outdent"===n&&me(t)}),t.addCommand("InsertUnorderedList",function(e,n){It.toggleList(t,"UL",n)}),t.addCommand("InsertOrderedList",function(e,n){It.toggleList(t,"OL",n)}),t.addCommand("InsertDefinitionList",function(e,n){It.toggleList(t,"DL",n)}),t.addCommand("RemoveList",function(){ge(t)}),t.addQueryStateHandler("InsertUnorderedList",Re(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Re(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Re(t,"DL"))},jt=function(e){var n;Nt(e)&&(n=e).on("keydown",function(e){e.keyCode!==Qn.TAB||Qn.metaKeyPressed(e)||n.undoManager.transact(function(){(e.shiftKey?me(n):le(n))&&e.preventDefault()})}),_t(e)},Ht=function(n){function e(e){return function(){return n.execCommand(e)}}var t,r,o;r="advlist",o=(t=n).settings.plugins?t.settings.plugins:"",-1===nt.inArray(o.split(/[ ,]/),r)&&(n.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:Ie(n,"OL")}),n.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:Ie(n,"UL")}))};!function $t(){en.add("lists",function(e){return jt(e),Ht(e),Ft(e),Ut(e)})}()}(window);