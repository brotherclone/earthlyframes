!function(){"use strict";function h(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))}function v(e,t,n,i){var o=parseInt(e.getStyle(t,n,i),10);return isNaN(o)?0:o}var i=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return i(t())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),p=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),y=function(e){return e.fire("ResizeEditor")},z=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")},b=function(e){return e.getParam("max_height",0,"number")},n=function(e){return e.getParam("autoresize_overflow_padding",1,"number")},C=function(e){return e.getParam("autoresize_bottom_margin",50,"number")},o=function(e){return e.getParam("autoresize_on_init",!0,"boolean")},u=function(e,t,n,i,o){r.setEditorTimeout(e,function(){_(e,t),n--?u(e,t,n,i,o):o&&o()},i)},_=function(e,t){var n,i,o,r,u=e.dom,s=e.getDoc();if(s)if((r=e).plugins.fullscreen&&r.plugins.fullscreen.isFullscreen())h(e,!0);else{var a=s.documentElement,f=C(e);i=z(e);var c=v(u,a,"margin-top",!0),g=v(u,a,"margin-bottom",!0);(o=a.offsetHeight+c+g+f)<0&&(o=0);var l=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;o+l>z(e)&&(i=o+l);var m=b(e);if(m&&m<i?(i=m,h(e,!0)):h(e,!1),i!==t.get()){if(n=i-t.get(),u.setStyle(e.getContainer(),"height",i+"px"),t.set(i),y(e),p.browser.isSafari()&&p.mac){var d=e.getWin();d.scrollTo(d.pageXOffset,d.pageYOffset)}e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),p.webkit&&n<0&&_(e,t)}}},s={setup:function(t,e){t.on("init",function(){var e=n(t);t.dom.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}),t.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(){_(t,e)}),o(t)&&t.on("init",function(){u(t,e,20,100,function(){u(t,e,5,1e3)})})},resize:_},a=function(e,t){e.addCommand("mceAutoResize",function(){s.resize(e,t)})};!function t(){e.add("autoresize",function(e){if(e.settings.hasOwnProperty("resize")||(e.settings.resize=!1),!e.inline){var t=i(0);a(e,t),s.setup(e,t)}})}()}();